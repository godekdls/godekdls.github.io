---
title: Appendix
category: Spring Cloud Sleuth
order: 8
permalink: /Spring%20Cloud%20Sleuth/appendix/
description: TODO
image: ./../../images/springcloud/logo.jpeg
lastmod: 2024-06-22T13:30:00+09:00
comments: true
originalRefName: 스프링 클라우드 슬루스
originalRefLink: https://docs.spring.io/spring-cloud-sleuth/docs/3.1.11/reference/htmlsingle/#howto
originalVersion: 3.1.11
---

### 목차

- [Common application properties](#common-application-properties)
- [6.31. Spring Cloud Sleuth Spans](#631-spring-cloud-sleuth-spans)
  + [6.31.1. Annotation New Or Continue Span](#6311-annotation-new-or-continue-span)
  + [6.31.2. Async Annotation Span](#6312-async-annotation-span)
  + [6.31.3. Async Callable Span](#6313-async-callable-span)
  + [6.31.4. Async Runnable Span](#6314-async-runnable-span)
  + [6.31.5. Batch Job Span](#6315-batch-job-span)
  + [6.31.6. Batch Step Span](#6316-batch-step-span)
  + [6.31.7. Cassandra Span](#6317-cassandra-span)
  + [6.31.8. Circuit Breaker Function Span](#6318-circuit-breaker-function-span)
  + [6.31.9. Circuit Breaker Supplier Span](#6319-circuit-breaker-supplier-span)
  + [6.31.10. Config Span](#63110-config-span)
  + [6.31.11. Deployer Deploy Span](#63111-deployer-deploy-span)
  + [6.31.12. Deployer Get Log Span](#63112-deployer-get-log-span)
  + [6.31.13. Deployer Scale Span](#63113-deployer-scale-span)
  + [6.31.14. Deployer Statuses Span](#63114-deployer-statuses-span)
  + [6.31.15. Deployer Status Span](#63115-deployer-status-span)
  + [6.31.16. Deployer Undeploy Span](#63116-deployer-undeploy-span)
  + [6.31.17. Jdbc Connection Span](#63117-jdbc-connection-span)
  + [6.31.18. Jdbc Query Span](#63118-jdbc-query-span)
  + [6.31.19. Jdbc Result Set Span](#63119-jdbc-result-set-span)
  + [6.31.20. Kafka Consumer Span](#63120-kafka-consumer-span)
  + [6.31.21. Kafka On Message Span](#63121-kafka-on-message-span)
  + [6.31.22. Kafka Producer Span](#63122-kafka-producer-span)
  + [6.31.23. Messaging Span](#63123-messaging-span)
  + [6.31.24. Mvc Handler Interceptor Span](#63124-mvc-handler-interceptor-span)
  + [6.31.25. Quartz Trigger Span](#63125-quartz-trigger-span)
  + [6.31.26. R2dbc Query Span](#63126-r2dbc-query-span)
  + [6.31.27. Rsocket Requester Span](#63127-rsocket-requester-span)
  + [6.31.28. Rsocket Responder Span](#63128-rsocket-responder-span)
  + [6.31.29. Rx Java Trace Action Span](#63129-rx-java-trace-action-span)
  + [6.31.30. Scheduled Annotation Span](#63130-scheduled-annotation-span)
  + [6.31.31. Security Context Change](#63131-security-context-change)
  + [6.31.32. Session Create Span](#63132-session-create-span)
  + [6.31.33. Session Delete Span](#63133-session-delete-span)
  + [6.31.34. Session Find Span](#63134-session-find-span)
  + [6.31.35. Session Save Span](#63135-session-save-span)
  + [6.31.36. Task Execution Listener Span](#63136-task-execution-listener-span)
  + [6.31.37. Task Runner Span](#63137-task-runner-span)
  + [6.31.38. Tx Span](#63138-tx-span)
  + [6.31.39. Web Filter Span](#63139-web-filter-span)

---

## Common application properties

스프링에선 `application.properties`, `application.yml` 파일이나 혹은 커맨드 라인 인자로 다양한 프로퍼티들을 지정할 수 있다. 이 페이지는 일반적인 Spring Cloud Sleuth 프로퍼티들과, 이 프로퍼티를 통해 동작하는 내부 클래스들이 정리된 부록이다.

> 클래스패스에 있는 다른 jar 파일에서도 프로퍼티를 사용할 수 있기 때문에, 여기 있는 것들이 전부는 아니다. 직접 나만의 프로퍼티를 정의하는 것도 가능하다.

| Name                                                         | Default                                                      | Description                                                  |
| :----------------------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| <span class="custom-blockquote">spring.sleuth<br>.async.configurer.enabled</span> | `true`                                                       | 디폴트 AsyncConfigurer를 활성화한다.                         |
| <span class="custom-blockquote">spring.sleuth<br>.async.enabled</span> | `true`                                                       | 트레이싱<sup>tracing</sup> 정보를 다른 스레드로도 전파할 수 있도록,<br>비동기와 관련된 컴포넌트들의 계측<sup>instrumentation</sup>을 활성화한다. |
| <span class="custom-blockquote">spring.sleuth<br>.async.ignored-beans</span> |                                                              | List of {@link java.util.concurrent.Executor} bean names that should be ignored and not wrapped in a trace representation. |
| <span class="custom-blockquote">spring.sleuth<br>.baggage.correlation-enabled</span> | `true`                                                       | Enables correlating the baggage context with logging contexts. |
| <span class="custom-blockquote">spring.sleuth<br>.baggage.correlation-fields</span> |                                                              | List of fields that should be propagated over the wire.      |
| <span class="custom-blockquote">spring.sleuth<br>.baggage.local-fields</span> |                                                              | List of fields that should be accessible within the JVM process but not propagated over the wire. |
| <span class="custom-blockquote">spring.sleuth<br>.baggage.remote-fields</span> |                                                              | List of fields that are referenced the same in-process as it is on the wire. For example, the field "x-vcap-request-id" would be set as-is including the prefix. |
| <span class="custom-blockquote">spring.sleuth<br>.baggage.tag-fields</span> |                                                              | List of fields that should automatically become tags.        |
| <span class="custom-blockquote">spring.sleuth<br>.batch.enabled</span> | `true`                                                       | Enable Spring Batch instrumentation.                         |
| <span class="custom-blockquote">spring.sleuth<br>.cassandra.enabled</span> | `true`                                                       | Enable Cassandra instrumentation.                            |
| <span class="custom-blockquote">spring.sleuth<br>.circuitbreaker.enabled</span> | `true`                                                       | Enable Spring Cloud CircuitBreaker instrumentation.          |
| <span class="custom-blockquote">spring.sleuth<br>.config.server.enabled</span> | `true`                                                       | Enable Spring Cloud Config Server instrumentation.           |
| <span class="custom-blockquote">spring.sleuth<br>.deployer.enabled</span> | `true`                                                       | Enable Spring Cloud Deployer instrumentation.                |
| <span class="custom-blockquote">spring.sleuth<br>.deployer.status-poll-delay</span> | `500`                                                        | Default poll delay to retrieve the deployed application status. |
| <span class="custom-blockquote">spring.sleuth.enabled</span> | `true`                                                       |                                                              |
| <span class="custom-blockquote">spring.sleuth<br>.feign.enabled</span> | `true`                                                       | Enable span information propagation when using Feign.        |
| <span class="custom-blockquote">spring.sleuth<br>.feign.processor.enabled</span> | `true`                                                       | Enable post processor that wraps Feign Context in its tracing representations. |
| <span class="custom-blockquote">spring.sleuth<br>.function.enabled</span> | `true`                                                       | Enable instrumenting of Spring Cloud Function and Spring Cloud Function based projects (e.g. Spring Cloud Stream). |
| <span class="custom-blockquote">spring.sleuth<br>.grpc.enabled</span> | `true`                                                       | Enable span information propagation when using GRPC.         |
| <span class="custom-blockquote">spring.sleuth<br>.http.enabled</span> | `true`                                                       | Enables HTTP support.                                        |
| <span class="custom-blockquote">spring.sleuth.integration<br>.enabled</span> | `true`                                                       | Enable Spring Integration instrumentation.                   |
| <span class="custom-blockquote">spring.sleuth.integration<br>.patterns</span> | <span class="custom-blockquote">[!hystrixStreamOutput\*, \*, !channel\*]</span> | An array of patterns against which channel names will be matched. @see org.springframework.integration.config.GlobalChannelInterceptor#patterns() Defaults to any channel name not matching the Hystrix Stream and functional Stream channel names. |
| <span class="custom-blockquote">spring.sleuth.integration<br>.websockets.enabled</span> | `true`                                                       | Enable tracing for WebSockets.                               |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.datasource-proxy.enabled</span> | `true`                                                       | Should the datasource-proxy tracing be enabled?              |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.datasource-proxy.json-format</span> | `false`                                                      | Use json output for logging query. @see ProxyDataSourceBuilder#asJson() |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.datasource-proxy.logging</span> |                                                              | Logging to use for logging queries.                          |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.datasource-proxy.multiline</span> | `true`                                                       | Use multiline output for logging query. @see ProxyDataSourceBuilder#multiline() |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.datasource-proxy<br>.query.enable-logging</span> | `false`                                                      | Enable logging all queries to the log.                       |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.datasource-proxy<br>.query.log-level</span> | `DEBUG`                                                      | Severity of query logger.                                    |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.datasource-proxy<br>.query.logger-name</span> |                                                              | Name of query logger.                                        |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.datasource-proxy<br>.slow-query.enable-logging</span> | `false`                                                      | Enable logging slow queries to the log.                      |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.datasource-proxy<br>.slow-query.log-level</span> | `WARN`                                                       | Severity of slow query logger.                               |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.datasource-proxy<br><br>.slow-query.logger-name</span> |                                                              | Name of slow query logger.                                   |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.datasource-proxy<br>.slow-query.threshold</span> | `300`                                                        | Number of seconds to consider query as slow.                 |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.enabled</span> | `true`                                                       | Enables JDBC instrumentation.                                |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.excluded-data-source-bean-names</span> |                                                              | List of DataSource bean names that will not be decorated.    |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.includes</span> |                                                              | Which types of tracing we would like to include.             |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.p6spy.custom-appender-class</span> |                                                              | Class file to use (only with logging=custom). The class must implement {@link com.p6spy.engine.spy.appender.FormattedLogger}. |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.p6spy.enable-logging</span> | `false`                                                      | Enables logging JDBC events.                                 |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.p6spy.enabled</span> | `true`                                                       | Should the p6spy tracing be enabled?                         |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.p6spy.log-file</span> | `spy.log`                                                    | Name of log file to use (only with logging=file).            |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.p6spy.log-filter.pattern</span> |                                                              | Use regex pattern to filter log messages. Only matched messages will be logged. |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.p6spy.log-format |                                                              | Custom log format.                                           |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.p6spy.logging</span> |                                                              | Logging to use for logging queries.                          |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.p6spy.multiline</span> | `true`                                                       | Enables multiline output.                                    |
| <span class="custom-blockquote">spring.sleuth.jdbc<br>.p6spy.tracing<br>.include-parameter-values</span> | `false`                                                      | Report the effective sql string (with '?' replaced with real values) to tracing systems. <p> NOTE this setting does not affect the logging message. |
| <span class="custom-blockquote">spring.sleuth<br>.kafka.enabled</span> | `true`                                                       | Enable instrumenting of Apache Kafka clients.                |
| <span class="custom-blockquote">spring.sleuth.messaging<br>.aspect.enabled</span> | `false`                                                      | Should {@link MessageMapping} wrapping be enabled.           |
| <span class="custom-blockquote">spring.sleuth.messaging<br>.enabled</span> | `false`                                                      | Should messaging be turned on.                               |
| <span class="custom-blockquote">spring.sleuth.messaging<br>.jms.enabled</span> | `true`                                                       | Enable tracing of JMS.                                       |
| <span class="custom-blockquote">spring.sleuth.messaging<br>.jms.remote-service-name</span> | `jms`                                                        | JMS remote service name.                                     |
| <span class="custom-blockquote">spring.sleuth.messaging<br>.kafka.enabled</span> | `true`                                                       | Enable tracing of Kafka.                                     |
| <span class="custom-blockquote">spring.sleuth.messaging<br>.kafka.mapper.enabled</span> | `true`                                                       | Enable DefaultKafkaHeaderMapper tracing for Kafka.           |
| <span class="custom-blockquote">spring.sleuth.messaging<br>.kafka.remote-service-name</span> | `kafka`                                                      | Kafka remote service name.                                   |
| <span class="custom-blockquote">spring.sleuth.messaging<br>.kafka.streams.enabled</span> | `false`                                                      | Should Kafka Streams be turned on.                           |
| <span class="custom-blockquote">spring.sleuth.messaging<br>.rabbit.enabled</span> | `true`                                                       | Enable tracing of RabbitMQ.                                  |
| <span class="custom-blockquote">spring.sleuth.messaging<br>.rabbit.remote-service-name</span> | `rabbitmq`                                                   | Rabbit remote service name.                                  |
| <span class="custom-blockquote">spring.sleuth.mongodb<br>.enabled</span> | `true`                                                       | Enable tracing for MongoDb.                                  |
| <span class="custom-blockquote">spring.sleuth.mongodb<br>.socket-address-span-customizer.enabled</span> | `false`                                                      | Enable setting of SocketAddress information on the Mongo span. |
| <span class="custom-blockquote">spring.sleuth<br>.opentracing.enabled</span> | `true`                                                       | Enables OpenTracing support.                                 |
| <span class="custom-blockquote">spring.sleuth<br>.propagation.type</span> |                                                              | Tracing context propagation types.                           |
| <span class="custom-blockquote">spring.sleuth<br>.quartz.enabled</span> | `true`                                                       | Enable tracing for Quartz.                                   |
| <span class="custom-blockquote">spring.sleuth<br>.r2dbc.enabled</span> | `true`                                                       | Enable R2dbc instrumentation.                                |
| <span class="custom-blockquote">spring.sleuth.reactor<br>.decorate-on-each</span> | `true`                                                       | When true decorates on each operator, will be less performing, but logging will always contain the tracing entries in each operator. When false decorates on last operator, will be more performing, but logging might not always contain the tracing entries. @deprecated use explicit value via {@link SleuthReactorProperties#instrumentationType} |
| <span class="custom-blockquote">spring.sleuth.reactor<br>.enabled</span> | `true`                                                       | When true enables instrumentation for reactor.               |
| <span class="custom-blockquote">spring.sleuth.reactor<br>.instrumentation-type</span> |                                                              |                                                              |
| <span class="custom-blockquote">spring.sleuth.reactor<br>.netty.debug.enabled</span> | `false`                                                      | WARNING: Use with caution, can lead to serious performance issues. Enable additional instrumentation for Reactor Netty. |
| <span class="custom-blockquote">spring.sleuth<br>.redis.enabled</span> | `true`                                                       | Enable span information propagation when using Redis.        |
| <span class="custom-blockquote">spring.sleuth<br>.redis.legacy.enabled</span> | `false`                                                      | Enable legacy tracing of Redis that works only via Brave.    |
| <span class="custom-blockquote">spring.sleuth<br>.redis.remote-service-name</span> | `redis`                                                      | Service name for the remote Redis endpoint.                  |
| <span class="custom-blockquote">spring.sleuth<br>.rpc.enabled</span> | `true`                                                       | Enable tracing of RPC.                                       |
| <span class="custom-blockquote">spring.sleuth<br>.rsocket.enabled</span> | `true`                                                       | When true enables instrumentation for rsocket.               |
| <span class="custom-blockquote">spring.sleuth.rxjava<br>.schedulers.hook.enabled</span> | `true`                                                       | Enable support for RxJava via RxJavaSchedulersHook.          |
| <span class="custom-blockquote">spring.sleuth.rxjava<br>.schedulers.ignoredthreads</span> | <span class="custom-blockquote">[HystrixMetricPoller, \^RxComputation.\*$]</span> | Thread names for which spans will not be sampled.            |
| <span class="custom-blockquote">spring.sleuth<br>.sampler.probability</span> |                                                              | Probability of requests that should be sampled. E.g. 1.0 - 100% requests should be sampled. The precision is whole-numbers only (i.e. there’s no support for 0.1% of the traces). |
| <span class="custom-blockquote">spring.sleuth<br>.sampler.rate</span> | `10`                                                         | A rate per second can be a nice choice for low-traffic endpoints as it allows you surge protection. For example, you may never expect the endpoint to get more than 50 requests per second. If there was a sudden surge of traffic, to 5000 requests per second, you would still end up with 50 traces per second. Conversely, if you had a percentage, like 10%, the same surge would end up with 500 traces per second, possibly overloading your storage. Amazon X-Ray includes a rate-limited sampler (named Reservoir) for this purpose. Brave has taken the same approach via the {@link brave.sampler.RateLimitingSampler}. |
| <span class="custom-blockquote">spring.sleuth<br>.sampler.refresh.enabled</span> | `true`                                                       | Enable refresh scope for sampler.                            |
| <span class="custom-blockquote">spring.sleuth<br>.scheduled.enabled</span> | `true`                                                       | Enable tracing for {@link org.springframework.scheduling.annotation.Scheduled}. |
| <span class="custom-blockquote">spring.sleuth<br>.scheduled.skip-pattern</span> |                                                              | Pattern for the fully qualified name of a class that should be skipped. |
| <span class="custom-blockquote">spring.sleuth<br>.session.enabled</span> | `true`                                                       | Enable Spring Session instrumentation.                       |
| <span class="custom-blockquote">spring.sleuth.span-filter.<br>additional-span-name-patterns-to-ignore</span> |                                                              | Additional list of span names to ignore. Will be appended to {@link #spanNamePatternsToSkip}. |
| <span class="custom-blockquote">spring.sleuth<br>.span-filter.enabled</span> | `false`                                                      | Will turn on the default Sleuth handler mechanism. Might ignore exporting of certain spans; |
| <span class="custom-blockquote">spring.sleuth.span-filter<br>.span-name-patterns-to-skip</span> | <span class="custom-blockquote">^catalogWatchTaskScheduler$</span> | List of span names to ignore. They will not be sent to external systems. |
| <span class="custom-blockquote">spring.sleuth<br>.supports-join</span> | `true`                                                       | True means the tracing system supports sharing a span ID between a client and server. |
| <span class="custom-blockquote">spring.sleuth<br>.task.enabled</span> | `true`                                                       | Enable Spring Cloud Task instrumentation.                    |
| <span class="custom-blockquote">spring.sleuth<br>.trace-id128</span> | `false`                                                      | When true, generate 128-bit trace IDs instead of 64-bit ones. |
| <span class="custom-blockquote">spring.sleuth<br>.tracer.mode</span> |                                                              | Set which tracer implementation should be picked.            |
| <span class="custom-blockquote">spring.sleuth<br>.tx.enabled</span> | `true`                                                       | Enable Spring TX instrumentation.                            |
| <span class="custom-blockquote">spring.sleuth<br>.vault.enabled</span> | `true`                                                       | Enable Spring Vault instrumentation.                         |
| <span class="custom-blockquote">spring.sleuth<br>.web.additional-skip-pattern</span> |                                                              | Additional pattern for URLs that should be skipped in tracing. This will be appended to the {@link SleuthWebProperties#skipPattern}. |
| <span class="custom-blockquote">spring.sleuth<br>.web.client.enabled</span> | `true`                                                       | Enable interceptor injecting into {@link org.springframework.web.client.RestTemplate}. |
| <span class="custom-blockquote">spring.sleuth<br>.web.client.skip-pattern</span> |                                                              | Pattern for URLs that should be skipped in client side tracing. |
| <span class="custom-blockquote">spring.sleuth<br>.web.enabled</span> | `true`                                                       | When true enables instrumentation for web applications.      |
| <span class="custom-blockquote">spring.sleuth<br>.web.filter-order</span> | `0`                                                          | Order in which the tracing filters should be registered.     |
| <span class="custom-blockquote">spring.sleuth.web<br>.ignore-auto-configured-skip-patterns</span> | `false`                                                      | If set to true, auto-configured skip patterns will be ignored. |
| <span class="custom-blockquote">spring.sleuth<br>.web.servlet.enabled</span> | `true`                                                       | Enable servlet instrumentation.                              |
| <span class="custom-blockquote">spring.sleuth<br>.web.skip-pattern</span> | <span class="custom-blockquote">/api-docs.\*\|/swagger.\*\\  | .\*\\.png\|.\*\\.css<br>\|.\*\\.js\|.\*\\.html\|/favicon.ico<br>\|/hystrix.stream</span> |
| <span class="custom-blockquote">spring.sleuth<br>.web.tomcat.enabled</span> | `true`                                                       | Enable tracing instrumentation for Tomcat.                   |
| <span class="custom-blockquote">spring.sleuth<br>.web.webclient.enabled</span> | `true`                                                       | Enable tracing instrumentation for WebClient.                |
| <span class="custom-blockquote">spring.zipkin<br>.activemq.message-max-bytes</span> | `100000`                                                     | Maximum number of bytes for a given message with spans sent to Zipkin over ActiveMQ. |
| <span class="custom-blockquote">spring.zipkin<br>.activemq.queue</span> | `zipkin`                                                     | Name of the ActiveMQ queue where spans should be sent to Zipkin. |
| <span class="custom-blockquote">spring.zipkin<br>.api-path</span> |                                                              | The API path to append to baseUrl (above) as suffix. This applies if you use other monitoring tools, such as New Relic. The trace API doesn’t need the API path, so you can set it to blank ("") in the configuration. |
| <span class="custom-blockquote">spring.zipkin<br>.base-url</span> | <span class="custom-blockquote">http://localhost:9411/</span> | URL of the zipkin query server instance. You can also provide the service id of the Zipkin server if Zipkin’s registered in service discovery (e.g. [zipkinserver/](https://zipkinserver/)). |
| <span class="custom-blockquote">spring.zipkin<br>.check-timeout</span> | `1000`                                                       | Timeout in millis for the check for Zipkin availability.     |
| <span class="custom-blockquote">spring.zipkin<br>.compression.enabled</span> | `false`                                                      |                                                              |
| <span class="custom-blockquote">spring.zipkin<br>.discovery-client-enabled</span> |                                                              | If set to {@code false}, will treat the {@link ZipkinProperties#baseUrl} as a URL always. |
| <span class="custom-blockquote">spring.zipkin<br>.enabled</span> | `true`                                                       | Enables sending spans to Zipkin.                             |
| <span class="custom-blockquote">spring.zipkin<br>.encoder</span> |                                                              | Encoding type of spans sent to Zipkin. Set to {@link SpanBytesEncoder#JSON_V1} if your server is not recent. |
| <span class="custom-blockquote">spring.zipkin<br>.kafka.topic</span> | `zipkin`                                                     | Name of the Kafka topic where spans should be sent to Zipkin. |
| <span class="custom-blockquote">spring.zipkin<br>.locator.discovery.enabled</span> | `false`                                                      | Enabling of locating the host name via service discovery.    |
| <span class="custom-blockquote">spring.zipkin<br>.message-timeout</span> | `1`                                                          | Timeout in seconds before pending spans will be sent in batches to Zipkin. |
| <span class="custom-blockquote">spring.zipkin<br>.queued-max-spans</span> | `1000`                                                       | Maximum backlog of spans reported vs sent.                   |
| <span class="custom-blockquote">spring.zipkin<br>.rabbitmq.addresses</span> |                                                              | Addresses of the RabbitMQ brokers used to send spans to Zipkin |
| <span class="custom-blockquote">spring.zipkin<br>.rabbitmq.queue</span> | `zipkin`                                                     | Name of the RabbitMQ queue where spans should be sent to Zipkin. |
| <span class="custom-blockquote">spring.zipkin<br>.sender.type</span> |                                                              | Means of sending spans to Zipkin.                            |
| <span class="custom-blockquote">spring.zipkin<br>.service.name</span> |                                                              | The name of the service, from which the Span was sent via HTTP, that should appear in Zipkin. |

---

## 6.31. Spring Cloud Sleuth Spans

Below you can find a list of all the spans that are created by Spring Cloud Sleuth.

### 6.31.1. Annotation New Or Continue Span

> Span that wraps a @NewSpan or @ContinueSpan annotations.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.annotation.SleuthAnnotationSpan`

| Name   | Description                                                  |
| ------ | ------------------------------------------------------------ |
| class  | Class name where a method got annotated with a Sleuth annotation. |
| method | Method name that got annotated with Sleuth annotation.       |

| Name            | Description                                                  |
| --------------- | ------------------------------------------------------------ |
| %s.after        | Annotated after executing a method annotated with @ContinueSpan or @NewSpan. (since the name contains `%s` the final value will be resolved at runtime) |
| %s.afterFailure | Annotated after throwing an exception from a method annotated with @ContinueSpan or @NewSpan. (since the name contains `%s` the final value will be resolved at runtime) |
| %s.before       | Annotated before executing a method annotated with @ContinueSpan or @NewSpan. (since the name contains `%s` the final value will be resolved at runtime) |

### 6.31.2. Async Annotation Span

> Span that wraps a @Async annotation. Either continues an existing one or creates a new one if there was no present one.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.async.SleuthAsyncSpan`

| Name   | Description                                          |
| ------ | ---------------------------------------------------- |
| class  | Class name where a method got annotated with @Async. |
| method | Method name that got annotated with @Async.          |

### 6.31.3. Async Callable Span

> Span created whenever a Callable needs to be instrumented.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.async.SleuthAsyncSpan`

### 6.31.4. Async Runnable Span

> Span created whenever a Runnable needs to be instrumented.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.async.SleuthAsyncSpan`

### 6.31.5. Batch Job Span

> Span created around a Job execution.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.batch.SleuthBatchSpan`

| Name                  | Description                          |
| --------------------- | ------------------------------------ |
| batch.job.executionId | ID of the Spring Batch execution.    |
| batch.job.instanceId  | ID of the Spring Batch job instance. |
| batch.job.name        | Name of the Spring Batch job.        |

### 6.31.6. Batch Step Span

> Span created around a Job execution.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.batch.SleuthBatchSpan`

| Name                   | Description                       |
| ---------------------- | --------------------------------- |
| batch.job.executionId  | ID of the Spring Batch execution. |
| batch.step.executionId | ID of the Spring Batch execution. |
| batch.step.name        | Name of the Spring Batch job.     |
| batch.step.type        | Type of the Spring Batch job.     |

### 6.31.7. Cassandra Span

> Span created around CqlSession executions.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.cassandra.SleuthCassandraSpan`

> All tags and events must be prefixed with `cassandra.` prefix!

| Name                     | Description                                                  |
| ------------------------ | ------------------------------------------------------------ |
| cassandra.cql            | A tag containing Cassandra CQL.                              |
| cassandra.keyspace       | Name of the Cassandra keyspace.                              |
| cassandra.node[%s].error | A tag containing error that occurred for the given node. (since the name contains `%s` the final value will be resolved at runtime) |

| Name                   | Description                                             |
| ---------------------- | ------------------------------------------------------- |
| cassandra.node.error   | Set whenever an error occurred for the given node.      |
| cassandra.node.success | Set when a success occurred for the session processing. |

### 6.31.8. Circuit Breaker Function Span

> Span created when we wrap a Function passed to the CircuitBreaker. as fallback.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.circuitbreaker.SleuthCircuitBreakerSpan`

### 6.31.9. Circuit Breaker Supplier Span

> Span created when we wrap a Supplier passed to the CircuitBreaker.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.circuitbreaker.SleuthCircuitBreakerSpan`

### 6.31.10. Config Span

> Span created around an EnvironmentRepository.

**Span name** `find`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.config.SleuthConfigSpan`

| Name                      | Description                                   |
| ------------------------- | --------------------------------------------- |
| config.environment.class  | Implementation of the EnvironmentRepository.  |
| config.environment.method | Method executed on the EnvironmentRepository. |

### 6.31.11. Deployer Deploy Span

> Span created upon deploying of an application.

**Span name** `deploy`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.deployer.SleuthDeployerSpan`

| Name                            | Description                                            |
| ------------------------------- | ------------------------------------------------------ |
| deployer.app.group              | Group of the deployed application.                     |
| deployer.app.id                 | ID of the deployed application.                        |
| deployer.app.name               | Name of the deployed application.                      |
| deployer.platform.cf.org        | CloudFoundry org.                                      |
| deployer.platform.cf.space      | CloudFoundry space.                                    |
| deployer.platform.cf.url        | CloudFoundry API URL.                                  |
| deployer.platform.k8s.namespace | Kubernetes namespace.                                  |
| deployer.platform.k8s.url       | Kubernetes API URL.                                    |
| deployer.platform.name          | Name of the platform to which apps are being deployed. |

| Name           | Description                                                  |
| -------------- | ------------------------------------------------------------ |
| %s             | When deployer changes the state of the deployed application. (since the name contains `%s` the final value will be resolved at runtime) |
| deployer.start | When deployer started deploying the application.             |

### 6.31.12. Deployer Get Log Span

> Span created upon asking for logs of deployed applications.

**Span name** `getLog`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.deployer.SleuthDeployerSpan`

| Name                            | Description                                            |
| ------------------------------- | ------------------------------------------------------ |
| deployer.app.group              | Group of the deployed application.                     |
| deployer.app.id                 | ID of the deployed application.                        |
| deployer.app.name               | Name of the deployed application.                      |
| deployer.platform.cf.org        | CloudFoundry org.                                      |
| deployer.platform.cf.space      | CloudFoundry space.                                    |
| deployer.platform.cf.url        | CloudFoundry API URL.                                  |
| deployer.platform.k8s.namespace | Kubernetes namespace.                                  |
| deployer.platform.k8s.url       | Kubernetes API URL.                                    |
| deployer.platform.name          | Name of the platform to which apps are being deployed. |

| Name           | Description                                                  |
| -------------- | ------------------------------------------------------------ |
| %s             | When deployer changes the state of the deployed application. (since the name contains `%s` the final value will be resolved at runtime) |
| deployer.start | When deployer started deploying the application.             |

### 6.31.13. Deployer Scale Span

> Span created upon asking for logs of deployed applications.

**Span name** `scale`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.deployer.SleuthDeployerSpan`

| Name                            | Description                                            |
| ------------------------------- | ------------------------------------------------------ |
| deployer.app.group              | Group of the deployed application.                     |
| deployer.app.id                 | ID of the deployed application.                        |
| deployer.app.name               | Name of the deployed application.                      |
| deployer.platform.cf.org        | CloudFoundry org.                                      |
| deployer.platform.cf.space      | CloudFoundry space.                                    |
| deployer.platform.cf.url        | CloudFoundry API URL.                                  |
| deployer.platform.k8s.namespace | Kubernetes namespace.                                  |
| deployer.platform.k8s.url       | Kubernetes API URL.                                    |
| deployer.platform.name          | Name of the platform to which apps are being deployed. |
| deployer.scale.count            | Scale count.                                           |
| deployer.scale.deploymentId     | Scale command deployment id.                           |

| Name           | Description                                                  |
| -------------- | ------------------------------------------------------------ |
| %s             | When deployer changes the state of the deployed application. (since the name contains `%s` the final value will be resolved at runtime) |
| deployer.start | When deployer started deploying the application.             |

### 6.31.14. Deployer Statuses Span

> Span created upon asking for statuses of deployed applications.

**Span name** `statuses`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.deployer.SleuthDeployerSpan`

| Name                            | Description                                            |
| ------------------------------- | ------------------------------------------------------ |
| deployer.app.group              | Group of the deployed application.                     |
| deployer.app.id                 | ID of the deployed application.                        |
| deployer.app.name               | Name of the deployed application.                      |
| deployer.platform.cf.org        | CloudFoundry org.                                      |
| deployer.platform.cf.space      | CloudFoundry space.                                    |
| deployer.platform.cf.url        | CloudFoundry API URL.                                  |
| deployer.platform.k8s.namespace | Kubernetes namespace.                                  |
| deployer.platform.k8s.url       | Kubernetes API URL.                                    |
| deployer.platform.name          | Name of the platform to which apps are being deployed. |

| Name           | Description                                                  |
| -------------- | ------------------------------------------------------------ |
| %s             | When deployer changes the state of the deployed application. (since the name contains `%s` the final value will be resolved at runtime) |
| deployer.start | When deployer started deploying the application.             |

### 6.31.15. Deployer Status Span

> Span created upon asking for a status of a deployed application.

**Span name** `status`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.deployer.SleuthDeployerSpan`

| Name                            | Description                                            |
| ------------------------------- | ------------------------------------------------------ |
| deployer.app.group              | Group of the deployed application.                     |
| deployer.app.id                 | ID of the deployed application.                        |
| deployer.app.name               | Name of the deployed application.                      |
| deployer.platform.cf.org        | CloudFoundry org.                                      |
| deployer.platform.cf.space      | CloudFoundry space.                                    |
| deployer.platform.cf.url        | CloudFoundry API URL.                                  |
| deployer.platform.k8s.namespace | Kubernetes namespace.                                  |
| deployer.platform.k8s.url       | Kubernetes API URL.                                    |
| deployer.platform.name          | Name of the platform to which apps are being deployed. |

| Name           | Description                                                  |
| -------------- | ------------------------------------------------------------ |
| %s             | When deployer changes the state of the deployed application. (since the name contains `%s` the final value will be resolved at runtime) |
| deployer.start | When deployer started deploying the application.             |

### 6.31.16. Deployer Undeploy Span

> Span created upon undeploying of an application.

**Span name** `undeploy`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.deployer.SleuthDeployerSpan`

| Name                            | Description                                            |
| ------------------------------- | ------------------------------------------------------ |
| deployer.app.group              | Group of the deployed application.                     |
| deployer.app.id                 | ID of the deployed application.                        |
| deployer.app.name               | Name of the deployed application.                      |
| deployer.platform.cf.org        | CloudFoundry org.                                      |
| deployer.platform.cf.space      | CloudFoundry space.                                    |
| deployer.platform.cf.url        | CloudFoundry API URL.                                  |
| deployer.platform.k8s.namespace | Kubernetes namespace.                                  |
| deployer.platform.k8s.url       | Kubernetes API URL.                                    |
| deployer.platform.name          | Name of the platform to which apps are being deployed. |

| Name           | Description                                                  |
| -------------- | ------------------------------------------------------------ |
| %s             | When deployer changes the state of the deployed application. (since the name contains `%s` the final value will be resolved at runtime) |
| deployer.start | When deployer started deploying the application.             |

### 6.31.17. Jdbc Connection Span

> Span created when a JDBC connection takes place.

**Span name** `connection`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.jdbc.SleuthJdbcSpan`

> All tags and events must be prefixed with `jdbc.` prefix!

| Name                   | Description                         |
| ---------------------- | ----------------------------------- |
| jdbc.datasource.driver | Name of the JDBC datasource driver. |
| jdbc.datasource.pool   | Name of the JDBC datasource pool.   |

### 6.31.18. Jdbc Query Span

> Span created when a JDBC query gets executed.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.jdbc.SleuthJdbcSpan`

> All tags and events must be prefixed with `jdbc.` prefix!

| Name           | Description          |
| -------------- | -------------------- |
| jdbc.query     | The SQL query value. |
| jdbc.row-count | Number of SQL rows.  |

| Name          | Description                            |
| ------------- | -------------------------------------- |
| jdbc.commit   | When the transaction gets committed.   |
| jdbc.rollback | When the transaction gets rolled back. |

### 6.31.19. Jdbc Result Set Span

> Span created when working with JDBC result set.

**Span name** `result-set`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.jdbc.SleuthJdbcSpan`

> All tags and events must be prefixed with `jdbc.` prefix!

| Name           | Description          |
| -------------- | -------------------- |
| jdbc.query     | The SQL query value. |
| jdbc.row-count | Number of SQL rows.  |

| Name          | Description                            |
| ------------- | -------------------------------------- |
| jdbc.commit   | When the transaction gets committed.   |
| jdbc.rollback | When the transaction gets rolled back. |

### 6.31.20. Kafka Consumer Span

> Span created on the Kafka consumer side.

**Span name** `kafka.consume`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.kafka.SleuthKafkaSpan`

> All tags and events must be prefixed with `kafka.` prefix!

| Name            | Description              |
| --------------- | ------------------------ |
| kafka.offset    | Kafka offset number.     |
| kafka.partition | Kafka partition number.  |
| kafka.topic     | Name of the Kafka topic. |

### 6.31.21. Kafka On Message Span

> Span created on the Kafka consumer side when using a MessageListener.

**Span name** `kafka.on-message`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.kafka.SleuthKafkaSpan`

> All tags and events must be prefixed with `kafka.` prefix!

| Name            | Description              |
| --------------- | ------------------------ |
| kafka.offset    | Kafka offset number.     |
| kafka.partition | Kafka partition number.  |
| kafka.topic     | Name of the Kafka topic. |

### 6.31.22. Kafka Producer Span

> Span created on the Kafka consumer side.

**Span name** `kafka.produce`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.kafka.SleuthKafkaSpan`

> All tags and events must be prefixed with `kafka.` prefix!

| Name        | Description              |
| ----------- | ------------------------ |
| kafka.topic | Name of the Kafka topic. |

### 6.31.23. Messaging Span

> Span created when message is sent or received.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.messaging.SleuthMessagingSpan`

| Name          | Description                                                  |
| ------------- | ------------------------------------------------------------ |
| %s            | User provided keys via customization options. (since the name contains `%s` the final value will be resolved at runtime) |
| channel       | Name of the Spring Integration channel.                      |
| function.name | Name of the Spring Cloud Function function name.             |

### 6.31.24. Mvc Handler Interceptor Span

> Span around a HandlerInterceptor. Will continue the current span and tag it

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.web.mvc.SleuthMvcSpan`

| Name                  | Description                                              |
| --------------------- | -------------------------------------------------------- |
| mvc.controller.class  | Class name where a method got annotated with @Scheduled. |
| mvc.controller.method | Method name that got annotated with @Scheduled.          |

### 6.31.25. Quartz Trigger Span

> Span created when trigger is fired and then completed.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.quartz.SleuthQuartzSpan`

| Name           | Description          |
| -------------- | -------------------- |
| quartz.trigger | Name of the trigger. |

### 6.31.26. R2dbc Query Span

> Span created on the Kafka consumer side.

**Span name** `query`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.r2dbc.SleuthR2dbcSpan`

> All tags and events must be prefixed with `r2dbc.` prefix!

| Name             | Description                                                  |
| ---------------- | ------------------------------------------------------------ |
| r2dbc.connection | Name of the R2DBC connection.                                |
| r2dbc.query[%s]  | Name of the R2DBC query. (since the name contains `%s` the final value will be resolved at runtime) |
| r2dbc.thread     | Name of the R2DBC thread.                                    |

### 6.31.27. Rsocket Requester Span

> Span created on the RSocket responder side.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.rsocket.SleuthRSocketSpan`

> All tags and events must be prefixed with `rsocket.` prefix!

| Name                 | Description                |
| -------------------- | -------------------------- |
| rsocket.request-type | Name of the R2DBC thread.  |
| rsocket.route        | Name of the RSocket route. |

### 6.31.28. Rsocket Responder Span

> Span created on the RSocket responder side.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.rsocket.SleuthRSocketSpan`

### 6.31.29. Rx Java Trace Action Span

> Span that wraps a Rx Java .

**Span name** `rxjava`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.rxjava.SleuthRxJavaSpan`

| Name   | Description         |
| ------ | ------------------- |
| thread | Name of the thread. |

### 6.31.30. Scheduled Annotation Span

> Span that wraps a annotated method. Either creates a new span or continues an existing one.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.scheduling.SleuthSchedulingSpan`

| Name   | Description                                              |
| ------ | -------------------------------------------------------- |
| class  | Class name where a method got annotated with @Scheduled. |
| method | Method name that got annotated with @Scheduled.          |

### 6.31.31. Security Context Change

> Indicates that a SecurityContextChangedEvent happened during the current span.

**Span name** `Security Context Change`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.security.SleuthSecuritySpan`

| Name                       | Description                                                  |
| -------------------------- | ------------------------------------------------------------ |
| Authentication cleared %s  | Event created when an Authentication object is removed from the SecurityContext. (since the name contains `%s` the final value will be resolved at runtime) |
| Authentication replaced %s | Event created when an Authentication object is replaced with a new one in the SecurityContext. (since the name contains `%s` the final value will be resolved at runtime) |
| Authentication set %s      | Event created when an Authentication object is added to the SecurityContext. (since the name contains `%s` the final value will be resolved at runtime) |

### 6.31.32. Session Create Span

> Span created when a new session has to be created.

**Span name** `session.create`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.session.SleuthSessionSpan`

### 6.31.33. Session Delete Span

> Span created when a session is deleted.

**Span name** `session.delete`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.session.SleuthSessionSpan`

### 6.31.34. Session Find Span

> Span created when a new session is searched for.

**Span name** `session.find`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.session.SleuthSessionSpan`

> All tags and events must be prefixed with `session.` prefix!

| Name               | Description |
| ------------------ | ----------- |
| session.index.name |             |

### 6.31.35. Session Save Span

> Span created when a new session is saved.

**Span name** `session.save`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.session.SleuthSessionSpan`

### 6.31.36. Task Execution Listener Span

> Span created within the lifecycle of a task.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.task.SleuthTaskSpan`

### 6.31.37. Task Runner Span

> Span created when a task runner is executed.

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.task.SleuthTaskSpan`

### 6.31.38. Tx Span

> Span created when there was no previous transaction. If there was one, we will continue it unless propagation is required.

**Span name** `tx`.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.tx.SleuthTxSpan`

> All tags and events must be prefixed with `tx.` prefix!

| Name                   | Description                           |
| ---------------------- | ------------------------------------- |
| tx.isolation-level     | Transaction isolation level.          |
| tx.name                | Transaction name.                     |
| tx.propagation-level   | Transaction propagation level.        |
| tx.read-only           | Whether the transaction is read-only. |
| tx.timeout             | Transaction timeout.                  |
| tx.transaction-manager | Name of the TransactionManager.       |

### 6.31.39. Web Filter Span

> Span around a WebFilter. Will continue the current span or create a new one and tag it

**Span name** `%s` - since it contains `%s`, the name is dynamic and will be resolved at runtime.

Fully qualified name of the enclosing class `org.springframework.cloud.sleuth.instrument.web.SleuthWebSpan`

| Name                  | Description                                        |
| --------------------- | -------------------------------------------------- |
| http.status_code      | Response status code.                              |
| mvc.controller.class  | Name of the class that is processing the request.  |
| mvc.controller.method | Name of the method that is processing the request. |